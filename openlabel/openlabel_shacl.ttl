@prefix openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix schema: <https://schema.org/> .

##############################################################################
# Tag Shape
##############################################################################

openlabel:TagShape a sh:NodeShape ;
    sh:targetClass openlabel:Tag ;
    sh:property [
        sh:minCount 0 ;
        sh:node openlabel:AdminTagShape ;
        sh:order 1 ;
        sh:path openlabel:AdminTag ;
    ] ,
    [
        sh:minCount 0 ;
        sh:node openlabel:BehaviourShape ;
        sh:order 2 ;
        sh:path openlabel:Behaviour ;
    ] ,
    [
        sh:minCount 0 ;
        sh:node openlabel:OddShape ;
        sh:order 3 ;
        sh:path openlabel:Odd ;
    ] ,
    [
        sh:minCount 0 ;
        sh:node openlabel:RoadUserShape ;
        sh:order 4 ;
        sh:path openlabel:RoadUser ;
    ] .

##############################################################################
# Admin Tag Shape
##############################################################################

openlabel:AdminTagShape a sh:NodeShape ;
    # FIXED: Target class AdminTag is capitalized in Ontology
    sh:targetClass openlabel:AdminTag ;
    sh:property
        [ sh:datatype rdfs:Literal ;
          sh:description "The type of license which governs usage of the scenario"@en ;
          sh:message "The type of license which governs usage of the scenario"@en ;
          # FIXED: Typo LiscenceURI -> licenseURI
          sh:name "licenseURI"@en ;
          sh:order 0 ;
          sh:path openlabel:licenseURI ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario owner email"@en ;
          sh:message "The email address of the legal entity who owns the rights to the scenario"@en ;
          sh:name "ownerEmail"@en ;
          sh:order 1 ;
          sh:path openlabel:ownerEmail ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario owner name"@en ;
          sh:message "The name address of the legal entity who owns the rights to the scenario"@en ;
          sh:name "ownerName"@en ;
          sh:order 2 ;
          sh:path openlabel:ownerName ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario owner URL"@en ;
          sh:message "The URL of the legal entity who owns the rights to the scenario"@en ;
          sh:name "ownerURL"@en ;
          sh:order 3 ;
          sh:path openlabel:ownerURL ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario created date"@en ;
          sh:message "The date that the scenario was created/published"@en ;
          sh:name "scenarioCreatedDate"@en ;
          sh:order 4 ;
          sh:path openlabel:scenarioCreatedDate ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario definition SDL"@en ;
          sh:message "SDL definition of the scenario"@en ;
          sh:name "scenarioDefinition"@en ;
          sh:order 5 ;
          sh:path openlabel:scenarioDefinition ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario definition type"@en ;
          sh:message "URI of SDL language used for the definition of the scenario"@en ;
          sh:name "scenarioDefinitionLanguageURI"@en ;
          sh:order 6 ;
          sh:path openlabel:scenarioDefinitionLanguageURI ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario description"@en ;
          sh:message "A description of the scenario"@en ;
          sh:name "scenarioDescription"@en ;
          sh:order 7 ;
          sh:path openlabel:scenarioDescription ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario name"@en ;
          sh:message "The name of the scenario"@en ;
          sh:name "scenarioName"@en ;
          sh:order 8 ;
          sh:path openlabel:scenarioName ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario parent reference"@en ;
          sh:message "This is a universally unique identifier (UUID) which identifies the scenario which this one has been derived from."@en ;
          sh:name "scenarioParentReference"@en ;
          sh:order 9 ;
          sh:path openlabel:scenarioParentReference ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario unique reference"@en ;
          sh:message "This is a universally unique identifier (UUID) assigned to the scenario which allows the scenario to be identified."@en ;
          sh:name "scenarioUniqueReference"@en ;
          sh:order 10 ;
          sh:path openlabel:scenarioUniqueReference ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario version"@en ;
          sh:message "The version number of the scenario."@en ;
          sh:name "scenarioVersion"@en ;
          sh:order 11 ;
          sh:path openlabel:scenarioVersion ] ,

        [ sh:datatype rdfs:Literal ;
          sh:description "Scenario visualization"@en ;
          sh:message "Relative or absolute URL of a static image or animation of the scenario to allow users to easily see what the scenario represents"@en ;
          # FIXED: Copy-paste error on name
          sh:name "scenarioVisualisationURL"@en ;
          sh:order 12 ;
          sh:path openlabel:scenarioVisualisationURL ] .

##############################################################################
# Road User Shape
##############################################################################

openlabel:RoadUserShape a sh:NodeShape ;
    sh:targetClass openlabel:RoadUser ;
    sh:property
        [ sh:datatype xsd:decimal ;
          sh:description "Speed (km/h)."@en ;
          sh:message "Validation of motionDriveValue failed!"@en ;
          sh:name "motionDriveValue"@en ;
          sh:order 23 ;
          sh:path openlabel:motionDriveValue ] ,

        # FIXED: Use URIs for class checking, not strings
        [ sh:description "Validation class for RoadUserVehicle"@en ;
          sh:in (openlabel:VehicleBus openlabel:VehicleCar openlabel:VehicleConstruction openlabel:VehicleCycle openlabel:VehicleEmergency openlabel:VehicleMotorcycle openlabel:VehicleTrailer openlabel:VehicleTruck openlabel:VehicleVan openlabel:VehicleWheelchair) ;
          sh:message "Validation of RoadUserVehicle failed!"@en ;
          sh:name "RoadUserVehicle"@en ;
          sh:order 1 ;
          sh:path openlabel:RoadUserVehicle ] ,

        [ sh:datatype xsd:boolean ; # Assumed boolean based on context, though likely checks existence
          sh:description "Validation class for RoadUserHuman"@en ;
          sh:message "Validation of boolean failed!"@en ;
          sh:name "RoadUserHuman"@en ;
          sh:order 2 ;
          sh:path openlabel:RoadUserHuman ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for RoadUserAnimal"@en ;
          sh:message "Validation of boolean failed!"@en ;
          sh:name "RoadUserAnimal"@en ;
          sh:order 2 ;
          sh:path openlabel:RoadUserAnimal ] .

##############################################################################
# Behaviour Shape
##############################################################################

openlabel:BehaviourShape a sh:NodeShape ;
    sh:targetClass openlabel:Behaviour ;
    sh:property
        # FIXED: Use URIs
        [ sh:description "Validation class for BehaviourCommunication"@en ;
          sh:in (openlabel:CommunicationHeadlightFlash openlabel:CommunicationHorn openlabel:CommunicationSignalEmergency openlabel:CommunicationSignalHazard openlabel:CommunicationSignalLeft openlabel:CommunicationSignalRight openlabel:CommunicationSignalSlowing openlabel:CommunicationWave) ;
          sh:message "Validation of BehaviourCommunication failed!"@en ;
          sh:name "BehaviourCommunication"@en ;
          sh:order 0 ;
          sh:path openlabel:BehaviourCommunication ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionAway"@en ;
          sh:message "Validation of MotionAway failed!"@en ;
          sh:name "MotionAway"@en ;
          sh:order 1 ;
          sh:path openlabel:MotionAway ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionCross"@en ;
          sh:message "Validation of MotionCross failed!"@en ;
          sh:name "MotionCross"@en ;
          sh:order 2 ;
          sh:path openlabel:MotionCross ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionCutIn"@en ;
          sh:message "Validation of MotionCutIn failed!"@en ;
          sh:name "MotionCutIn"@en ;
          sh:order 3 ;
          sh:path openlabel:MotionCutIn ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionCutOut"@en ;
          sh:message "Validation of MotionCutOut failed!"@en ;
          sh:name "MotionCutOut"@en ;
          sh:order 4 ;
          sh:path openlabel:MotionCutOut ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionLaneChangeLeft"@en ;
          sh:message "Validation of MotionLaneChangeLeft failed!"@en ;
          sh:name "MotionLaneChangeLeft"@en ;
          sh:order 5 ;
          sh:path openlabel:MotionLaneChangeLeft ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionLaneChangeRight"@en ;
          sh:message "Validation of MotionLaneChangeRight failed!"@en ;
          sh:name "MotionLaneChangeRight"@en ;
          sh:order 6 ;
          sh:path openlabel:MotionLaneChangeRight ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionOvertake"@en ;
          sh:message "Validation of MotionOvertake failed!"@en ;
          sh:name "MotionOvertake"@en ;
          sh:order 7 ;
          sh:path openlabel:MotionOvertake ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionReverse"@en ;
          sh:message "Validation of MotionReverse failed!"@en ;
          sh:name "MotionReverse"@en ;
          sh:order 8 ;
          sh:path openlabel:MotionReverse ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionRun"@en ;
          sh:message "Validation of MotionRun failed!"@en ;
          sh:name "MotionRun"@en ;
          sh:order 9 ;
          sh:path openlabel:MotionRun ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionSlide"@en ;
          sh:message "Validation of MotionSlide failed!"@en ;
          sh:name "MotionSlide"@en ;
          sh:order 10 ;
          sh:path openlabel:MotionSlide ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionStop"@en ;
          sh:message "Validation of MotionStop failed!"@en ;
          sh:name "MotionStop"@en ;
          sh:order 11 ;
          sh:path openlabel:MotionStop ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionTowards"@en ;
          sh:message "Validation of MotionTowards failed!"@en ;
          sh:name "MotionTowards"@en ;
          sh:order 12 ;
          sh:path openlabel:MotionTowards ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionTurn"@en ;
          sh:message "Validation of MotionTurn failed!"@en ;
          sh:name "MotionTurn"@en ;
          sh:order 13 ;
          sh:path openlabel:MotionTurn ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionTurnLeft"@en ;
          sh:message "Validation of MotionTurnLeft failed!"@en ;
          sh:name "MotionTurnLeft"@en ;
          sh:order 14 ;
          sh:path openlabel:MotionTurnLeft ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionTurnRight"@en ;
          sh:message "Validation of MotionTurnRight failed!"@en ;
          sh:name "MotionTurnRight"@en ;
          sh:order 15 ;
          sh:path openlabel:MotionTurnRight ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionUTurn"@en ;
          sh:message "Validation of MotionUTurn failed!"@en ;
          sh:name "MotionUTurn"@en ;
          sh:order 16 ;
          sh:path openlabel:MotionUTurn ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for MotionWalk"@en ;
          sh:message "Validation of MotionWalk failed!"@en ;
          sh:name "MotionWalk"@en ;
          sh:order 17 ;
          sh:path openlabel:MotionWalk ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for motionAccelerate"@en ;
          sh:message "Validation of motionAccelerate failed!"@en ;
          sh:name "motionAccelerate"@en ;
          sh:order 18 ;
          sh:path openlabel:MotionAccelerate ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for motionDecelerate"@en ;
          sh:message "Validation of motionDecelerate failed!"@en ;
          sh:name "motionDecelerate"@en ;
          sh:order 20 ;
          sh:path openlabel:MotionDecelerate ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for motionDrive"@en ;
          sh:message "Validation of motionDrive failed!"@en ;
          sh:name "motionDrive"@en ;
          sh:order 22 ;
          sh:path openlabel:MotionDrive ] ,

        [ sh:path openlabel:motionAccelerateValue ;
          sh:description "Rate of acceleration (ms-2)."@en ;
          sh:message "Validation of motionAccelerateValue failed!"@en ;
          sh:name "motionAccelerateValue"@en ;
          sh:order 19 ;
          sh:or (
              [ sh:datatype xsd:decimal ;
                sh:description "Single decimal value representing a acceleration value (ms-2)."@en ;
                sh:message "motionAccelerateValue must be a single decimal."@en ;
                # FIXED: Copy paste error (Decelerate -> Accelerate)
                sh:name "singleMotionAccelerateValue"@en ]
              [ sh:nodeKind sh:BlankNodeOrIRI ;
                sh:class schema:QuantitativeValue ;
                sh:node openlabel:QuantitativeValueShape ;
                sh:description "QuantitativeValue representing a range for a acceleration value (ms-2)."@en ;
                sh:message "motionAccelerateValue must be a QuantitativeValue with minValue and maxValue."@en ;
                sh:name "RangeValue"@en ]
          ) ] ,

        [ sh:path openlabel:motionDecelerateValue ;
          sh:description "MotionDecelerateValue can be a single decimal or a range (ms-2)."@en ;
          sh:message "Validation of motionDecelerateValue failed!"@en ;
          sh:name "motionDecelerateValue"@en ;
          sh:order 21 ;
          sh:or (
              [ sh:datatype xsd:decimal ;
                sh:description "Single decimal value representing a deceleration value (ms-2)."@en ;
                sh:message "motionDecelerateValue must be a single decimal."@en ;
                sh:name "singleMotionDecelerateValue"@en ]
              [ sh:nodeKind sh:BlankNodeOrIRI ;
                sh:class schema:QuantitativeValue ;
                sh:node openlabel:QuantitativeValueShape ;
                sh:description "QuantitativeValue representing a range for a deceleration value (ms-2)."@en ;
                sh:message "motionDecelerateValue must be a QuantitativeValue with minValue and maxValue."@en ;
                sh:name "RangeValue"@en ]
          ) ] ,

        [ sh:path openlabel:motionDriveValue ;
          sh:description "Motion drive value can be a single decimal or a range Speed (km/h)."@en ;
          sh:message "Validation of motionDriveValue failed!"@en ;
          sh:name "motionDriveValue"@en ;
          sh:order 23 ;
          sh:or (
              [ sh:datatype xsd:decimal ;
                sh:description "Single decimal value representing motion drive Speed (km/h)."@en ;
                sh:message "motionDriveValue must be a single decimal."@en ;
                sh:name "SingleDecimalValue"@en ;
                sh:order 1 ]
              [ sh:nodeKind sh:BlankNodeOrIRI ;
                sh:class schema:QuantitativeValue ;
                sh:node openlabel:QuantitativeValueShape ;
                sh:description "QuantitativeValue representing a range for motion drive Speed (km/h)."@en ;
                sh:message "motionDriveValue must be a QuantitativeValue with minValue and maxValue."@en ;
                sh:name "RangeValue"@en ;
                sh:order 2 ]
          ) ] ;

    sh:sparql
        [ a sh:SPARQLConstraint ;
          sh:message "If 'MotionAccelerate' is not true, 'motionAccelerateValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:MotionAccelerate ?motionAccelerate . }
                  OPTIONAL { $this openlabel:motionAccelerateValue ?motionAccelerateValue . }
                  FILTER (
                      ( !BOUND(?motionAccelerate) || ?motionAccelerate != true ) &&
                      BOUND(?motionAccelerateValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'motionDecelerate' is not true, 'motionDecelerateValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:MotionDecelerate ?motionDecelerate . }
                  OPTIONAL { $this openlabel:motionDecelerateValue ?motionDecelerateValue . }
                  FILTER (
                      ( !BOUND(?motionDecelerate) || ?motionDecelerate != true ) &&
                      BOUND(?motionDecelerateValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'motionDrive' is not true, 'motionDriveValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:MotionDrive ?motionDrive . }
                  OPTIONAL { $this openlabel:motionDriveValue ?motionDriveValue . }
                  FILTER (
                      ( !BOUND(?motionDrive) || ?motionDrive != true ) &&
                      BOUND(?motionDriveValue)
                  )
              }
          """ ] .

##############################################################################
# ODD Shape
##############################################################################

openlabel:OddShape a sh:NodeShape ;
    sh:targetClass openlabel:Odd ;
    sh:property
        # FIXED: Use URIs
        [ sh:description "Validation class for DrivableAreaEdge"@en ;
          sh:in (openlabel:EdgeLineMarkers openlabel:EdgeNone openlabel:EdgeShoulderGrass openlabel:EdgeShoulderPavedOrGravel openlabel:EdgeSolidBarriers openlabel:EdgeTemporaryLineMarkers) ;
          sh:message "Validation of DrivableAreaEdge failed!"@en ;
          sh:name "DrivableAreaEdge"@en ;
          sh:order 0 ;
          sh:path openlabel:DrivableAreaEdge ] ,

        [ sh:description "Validation class for GeometryTransverse"@en ;
          sh:in (openlabel:TransverseBarriers openlabel:TransverseDivided openlabel:TransverseLanesTogether openlabel:TransversePavements openlabel:TransverseUndivided) ;
          sh:message "Validation of GeometryTransverse failed!"@en ;
          sh:name "GeometryTransverse"@en ;
          sh:order 1 ;
          sh:path openlabel:GeometryTransverse ] ,

        [ sh:description "Validation class for LaneSpecificationTravelDirection"@en ;
          sh:in (openlabel:TravelDirectionLeft openlabel:TravelDirectionRight) ;
          sh:message "Validation of LaneSpecificationTravelDirection failed!"@en ;
          sh:name "LaneSpecificationTravelDirection"@en ;
          sh:order 2 ;
          sh:path openlabel:LaneSpecificationTravelDirection ] ,

        [ sh:description "Validation class for LaneSpecificationType"@en ;
          sh:in (openlabel:LaneTypeBus openlabel:LaneTypeCycle openlabel:LaneTypeEmergency openlabel:LaneTypeSpecial openlabel:LaneTypeTraffic openlabel:LaneTypeTram) ;
          sh:message "Validation of LaneSpecificationType failed!"@en ;
          sh:name "LaneSpecificationType"@en ;
          sh:order 3 ;
          sh:path openlabel:LaneSpecificationType ] ,

        [ sh:description "Validation class for SignsInformation"@en ;
          sh:in (openlabel:InformationSignsUniformFullTime openlabel:InformationSignsUniformTemporary openlabel:InformationSignsVariableFullTime openlabel:InformationSignsVariableTemporary) ;
          sh:message "Validation of SignsInformation failed!"@en ;
          sh:name "SignsInformation"@en ;
          sh:order 4 ;
          sh:path openlabel:SignsInformation ] ,

        [ sh:description "Validation class for SignsRegulatory"@en ;
          sh:in (openlabel:RegulatorySignsUniformFullTime openlabel:RegulatorySignsUniformTemporary openlabel:RegulatorySignsVariableFullTime openlabel:RegulatorySignsVariableTemporary) ;
          sh:message "Validation of SignsRegulatory failed!"@en ;
          sh:name "SignsRegulatory"@en ;
          sh:order 5 ;
          sh:path openlabel:SignsRegulatory ] ,

        [ sh:description "Validation class for SignsWarning"@en ;
          sh:in (openlabel:WarningSignsUniformFullTime openlabel:WarningSignsUniformTemporary openlabel:WarningSignsVariableFullTime openlabel:WarningSignsVariableTemporary openlabel:WarningSignsUniform) ;
          # FIXED: Copy-paste error in message
          sh:message "Validation of SignsWarning failed!"@en ;
          sh:name "SignsWarning"@en ;
          sh:order 6 ;
          sh:path openlabel:SignsWarning ] ,

        [ sh:description "Validation class for DrivableAreaSurfaceCondition"@en ;
          sh:in (openlabel:SurfaceConditionContamination openlabel:SurfaceConditionFlooded openlabel:SurfaceConditionIcy openlabel:SurfaceConditionMirage openlabel:SurfaceConditionSnow openlabel:SurfaceConditionStandingWater openlabel:SurfaceConditionWet) ;
          sh:message "Validation of DrivableAreaSurfaceCondition failed!"@en ;
          sh:name "DrivableAreaSurfaceCondition"@en ;
          sh:order 7 ;
          sh:path openlabel:DrivableAreaSurfaceCondition ] ,

        [ sh:description "Validation class for DrivableAreaSurfaceFeature"@en ;
          sh:in (openlabel:SurfaceFeatureCrack openlabel:SurfaceFeaturePothole openlabel:SurfaceFeatureRut openlabel:SurfaceFeatureSwell) ;
          sh:message "Validation of DrivableAreaSurfaceFeature failed!"@en ;
          sh:name "DrivableAreaSurfaceFeature"@en ;
          sh:order 8 ;
          sh:path openlabel:DrivableAreaSurfaceFeature ] ,

        [ sh:description "Validation class for DrivableAreaSurfaceType"@en ;
          sh:in (openlabel:SurfaceTypeLoose openlabel:SurfaceTypeSegmented openlabel:SurfaceTypeUniform) ;
          sh:message "Validation of DrivableAreaSurfaceType failed!"@en ;
          sh:name "DrivableAreaSurfaceType"@en ;
          sh:order 9 ;
          sh:path openlabel:DrivableAreaSurfaceType ] ,

        [ sh:description "Validation class for DrivableAreaType"@en ;
          sh:in (openlabel:RoadTypeDistributor openlabel:RoadTypeMinor openlabel:RoadTypeMotorway openlabel:RoadTypeParking openlabel:RoadTypeRadial openlabel:RoadTypeShared openlabel:RoadTypeSlip) ;
          sh:message "Validation of DrivableAreaType failed!"@en ;
          sh:name "DrivableAreaType"@en ;
          sh:order 10 ;
          sh:path openlabel:DrivableAreaType ] ,

        [ sh:description "Validation class for SceneryFixedStructure"@en ;
          sh:in (openlabel:FixedStructureBuilding openlabel:FixedStructureStreetFurniture openlabel:FixedStructureStreetlight openlabel:FixedStructureVegetation) ;
          sh:message "Validation of SceneryFixedStructure failed!"@en ;
          sh:name "SceneryFixedStructure"@en ;
          sh:order 11 ;
          sh:path openlabel:SceneryFixedStructure ] ,

        [ sh:description "Validation class for JunctionIntersection"@en ;
          sh:in (openlabel:IntersectionCrossroad openlabel:IntersectionGradeSeperated openlabel:IntersectionStaggered openlabel:IntersectionTJunction openlabel:IntersectionYJunction) ;
          sh:message "Validation of JunctionIntersection failed!"@en ;
          sh:name "JunctionIntersection"@en ;
          sh:order 12 ;
          sh:path openlabel:JunctionIntersection ] ,

        [ sh:description "Validation class for JunctionRoundabout"@en ;
          sh:in (openlabel:RoundaboutCompactNosignal openlabel:RoundaboutCompactSignal openlabel:RoundaboutDoubleNosignal openlabel:RoundaboutDoubleSignal openlabel:RoundaboutLargeNosignal openlabel:RoundaboutLargeSignal openlabel:RoundaboutMiniNosignal openlabel:RoundaboutMiniSignal openlabel:RoundaboutNormalNosignal openlabel:RoundaboutNormalSignal) ;
          sh:message "Validation of JunctionRoundabout failed!"@en ;
          sh:name "JunctionRoundabout"@en ;
          sh:order 13 ;
          sh:path openlabel:JunctionRoundabout ] ,

        [ sh:description "Validation class for ScenerySpecialStructure"@en ;
          sh:in (openlabel:SpecialStructureAutoAccess openlabel:SpecialStructureBridge openlabel:SpecialStructurePedestrianCrossing openlabel:SpecialStructureRailCrossing openlabel:SpecialStructureTollPlaza openlabel:SpecialStructureTunnel) ;
          sh:message "Validation of ScenerySpecialStructure failed!"@en ;
          sh:name "ScenerySpecialStructure"@en ;
          sh:order 14 ;
          sh:path openlabel:ScenerySpecialStructure ] ,

        [ sh:description "Validation class for SceneryTemporaryStructure"@en ;
          sh:in (openlabel:TemporaryStructureConstructionDetour openlabel:TemporaryStructureRefuseCollection openlabel:TemporaryStructureRoadSignage openlabel:TemporaryStructureRoadWorks) ;
          sh:message "Validation of SceneryTemporaryStructure failed!"@en ;
          sh:name "SceneryTemporaryStructure"@en ;
          sh:order 15 ;
          sh:path openlabel:SceneryTemporaryStructure ] ,

        [ sh:description "Validation class for SceneryZone"@en ;
          sh:in (openlabel:ZoneGeoFenced openlabel:ZoneInterference openlabel:ZoneRegion openlabel:ZoneSchool openlabel:ZoneTrafficManagement) ;
          sh:message "Validation of SceneryZone failed!"@en ;
          sh:name "SceneryZone"@en ;
          sh:order 16 ;
          sh:path openlabel:SceneryZone ] ,

        [ sh:description "Validation class for ConnectivityCommunication"@en ;
          sh:in (openlabel:CommunicationV2i openlabel:CommunicationV2v) ;
          sh:message "Validation of ConnectivityCommunication failed!"@en ;
          sh:name "ConnectivityCommunication"@en ;
          sh:order 17 ;
          sh:path openlabel:ConnectivityCommunication ] ,

        [ sh:description "Validation class for ConnectivityPositioning"@en ;
          sh:in (openlabel:PositioningGalileo openlabel:PositioningGlonass openlabel:PositioningGps) ;
          sh:message "Validation of ConnectivityPositioning failed!"@en ;
          sh:name "ConnectivityPositioning"@en ;
          sh:order 18 ;
          sh:path openlabel:ConnectivityPositioning ] ,

        [ sh:description "Validation class for IlluminationArtificial"@en ;
          sh:in (openlabel:ArtificialStreetLighting openlabel:ArtificialVehicleLighting) ;
          sh:message "Validation of IlluminationArtificial failed!"@en ;
          sh:name "IlluminationArtificial"@en ;
          sh:order 19 ;
          sh:path openlabel:IlluminationArtificial ] ,

        [ sh:description "Validation class for IlluminationLowLight"@en ;
          sh:in (openlabel:LowLightAmbient openlabel:LowLightNight) ;
          sh:message "Validation of IlluminationLowLight failed!"@en ;
          sh:name "IlluminationLowLight"@en ;
          sh:order 20 ;
          sh:path openlabel:IlluminationLowLight ] ,

        [ sh:description "Validation class for RainType"@en ;
          sh:in (openlabel:RainTypeConvective openlabel:RainTypeDynamic openlabel:RainTypeOrographic) ;
          sh:message "Validation of RainType failed!"@en ;
          sh:name "RainType"@en ;
          sh:order 21 ;
          sh:path openlabel:RainType ] ,

        [ sh:description "Validation class for EnvironmentParticulates"@en ;
          sh:in (openlabel:ParticulatesDust openlabel:ParticulatesMarine openlabel:ParticulatesPollution openlabel:ParticulatesVolcanic openlabel:ParticulatesWater) ;
          sh:message "Validation of EnvironmentParticulates failed!"@en ;
          sh:name "EnvironmentParticulates"@en ;
          sh:order 22 ;
          sh:path openlabel:EnvironmentParticulates ] ,

        # FIXED: Removed Duplicate RainType (Order 23 was duplicate of 21)

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for LaneSpecificationMarking"@en ;
          sh:message "Validation of LaneSpecificationMarking failed!"@en ;
          sh:name "LaneSpecificationMarking"@en ;
          sh:order 24 ;
          sh:path openlabel:LaneSpecificationMarking ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for HorizontalStraights"@en ;
          sh:message "Validation of HorizontalStraights failed!"@en ;
          sh:name "HorizontalStraights"@en ;
          sh:order 25 ;
          sh:path openlabel:HorizontalStraights ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for LongitudinalLevelPlane"@en ;
          sh:message "Validation of LongitudinalLevelPlane failed!"@en ;
          sh:name "LongitudinalLevelPlane"@en ;
          sh:order 26 ;
          sh:path openlabel:LongitudinalLevelPlane ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for DaySunPosition"@en ;
          sh:message "Validation of DaySunPosition failed!"@en ;
          sh:name "DaySunPosition"@en ;
          sh:order 27 ;
          sh:path openlabel:DaySunPosition ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for ParticulatesDust"@en ;
          sh:message "Validation of ParticulatesDust failed!"@en ;
          sh:name "ParticulatesDust"@en ;
          sh:order 28 ;
          sh:path openlabel:ParticulatesDust ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for ParticulatesMarine"@en ;
          sh:message "Validation of ParticulatesMarine failed!"@en ;
          sh:name "ParticulatesMarine"@en ;
          sh:order 29 ;
          sh:path openlabel:ParticulatesMarine ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for ParticulatesPollution"@en ;
          sh:message "Validation of ParticulatesPollution failed!"@en ;
          sh:name "ParticulatesPollution"@en ;
          sh:order 30 ;
          sh:path openlabel:ParticulatesPollution ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for ParticulatesVolcanic"@en ;
          sh:message "Validation of ParticulatesVolcanic failed!"@en ;
          sh:name "ParticulatesVolcanic"@en ;
          sh:order 31 ;
          sh:path openlabel:ParticulatesVolcanic ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for TrafficSpecialVehicle"@en ;
          sh:message "Validation of TrafficSpecialVehicle failed!"@en ;
          sh:name "TrafficSpecialVehicle"@en ;
          sh:order 32 ;
          sh:path openlabel:TrafficSpecialVehicle ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for subjectVehicleSpeed"@en ;
          sh:message "Validation of subjectVehicleSpeed failed!"@en ;
          sh:name "subjectVehicleSpeed"@en ;
          sh:order 33 ;
          sh:path openlabel:SubjectVehicleSpeed ] ,

        [ sh:path openlabel:subjectVehicleSpeedValue ;
          sh:description "Speed (km/h) (Refer to BSI PAS-1883 Section 5.4.b)."@en ;
          sh:message "Validation of subjectVehicleSpeedValue failed!"@en ;
          sh:name "subjectVehicleSpeedValue"@en ;
          sh:order 34 ;
          sh:or (
              [ sh:datatype xsd:nonNegativeInteger ;
                sh:description "Single decimal value representing subjectVehicleSpeedValue (km/h)."@en ;
                sh:message "subjectVehicleSpeedValue must be a single decimal."@en ;
                sh:name "nonNegativeInteger"@en ;
                sh:order 1 ]
              [ sh:nodeKind sh:BlankNodeOrIRI ;
                sh:class schema:QuantitativeValue ;
                sh:node openlabel:QuantitativeValueShape ;
                sh:description "QuantitativeValue representing a range for subjectVehicleSpeedValue (km/h)."@en ;
                sh:message "subjectVehicleSpeedValue must be a QuantitativeValue with minValue and maxValue."@en ;
                sh:name "RangeValue"@en ;
                sh:order 2 ]
          ) ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for weatherRain"@en ;
          sh:message "Validation of weatherRain failed!"@en ;
          sh:name "weatherRain"@en ;
          sh:order 35 ;
          sh:path openlabel:WeatherRain ] ,

        [ sh:datatype xsd:decimal ;
          sh:description "Rainfall Intensity (mm/h) (Refer to BSI PAS-1883 Section 5.3.1.2)."@en ;
          sh:message "Validation of weatherRainValue failed!"@en ;
          sh:name "weatherRainValue"@en ;
          sh:order 36 ;
          sh:path openlabel:weatherRainValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for weatherSnow"@en ;
          sh:message "Validation of weatherSnow failed!"@en ;
          sh:name "weatherSnow"@en ;
          sh:order 37 ;
          sh:path openlabel:WeatherSnow ] ,

        [ sh:datatype xsd:decimal ;
          sh:description "Visibility (km) (Refer to BSI PAS-1883 Section 5.3.1.3)."@en ;
          sh:message "Validation of weatherSnowValue failed!"@en ;
          sh:name "weatherSnowValue"@en ;
          sh:order 38 ;
          sh:path openlabel:weatherSnowValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for weatherWind"@en ;
          sh:message "Validation of weatherWind failed!"@en ;
          sh:name "weatherWind"@en ;
          sh:order 39 ;
          sh:path openlabel:WeatherWind ] ,

        [ sh:datatype xsd:decimal ;
          sh:description "Wind Speed (m/s) (Refer to BSI PAS-1883 Section 5.3.1.1)."@en ;
          sh:message "Validation of weatherWindValue failed!"@en ;
          sh:name "weatherWindValue"@en ;
          sh:order 40 ;
          sh:path openlabel:weatherWindValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for illuminationCloudiness"@en ;
          sh:message "Validation of illuminationCloudiness failed!"@en ;
          sh:name "illuminationCloudiness"@en ;
          sh:order 41 ;
          sh:path openlabel:IlluminationCloudiness ] ,

        [ sh:datatype xsd:decimal ;
          sh:description "Cloud cover (okta) (Refer to BSI PAS-1883 Section 5.3.3.c)."@en ;
          sh:message "Validation of illuminationCloudinessValue failed!"@en ;
          sh:name "illuminationCloudinessValue"@en ;
          sh:order 42 ;
          sh:path openlabel:illuminationCloudinessValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for daySunElevation"@en ;
          sh:message "Validation of daySunElevation failed!"@en ;
          sh:name "daySunElevation"@en ;
          sh:order 43 ;
          sh:path openlabel:DaySunElevation ] ,

        [ sh:datatype xsd:decimal ;
          sh:description "Sun Elevation (degrees) (Refer to BSI PAS-1883 Section 5.3.3.a.1)."@en ;
          sh:message "Validation of daySunElevationValue failed!"@en ;
          sh:name "daySunElevationValue"@en ;
          sh:order 44 ;
          sh:path openlabel:daySunElevationValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for trafficAgentDensity"@en ;
          sh:message "Validation of trafficAgentDensity failed!"@en ;
          sh:name "trafficAgentDensity"@en ;
          sh:order 45 ;
          sh:path openlabel:TrafficAgentDensity ] ,

        [ sh:datatype xsd:nonNegativeInteger ;
          sh:description "Density (vehicles/km) (Refer to BSI PAS-1883 Section 5.4.a.1)."@en ;
          sh:message "Validation of trafficAgentDensityValue failed!"@en ;
          sh:name "trafficAgentDensityValue"@en ;
          sh:order 46 ;
          sh:path openlabel:trafficAgentDensityValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for trafficFlowRate"@en ;
          # FIXED: Typo trafficFlowRat -> trafficFlowRate
          sh:message "Validation of trafficFlowRate failed!"@en ;
          sh:name "trafficFlowRate"@en ;
          sh:order 47 ;
          sh:path openlabel:TrafficFlowRate ] ,

        [ sh:datatype xsd:nonNegativeInteger ;
          sh:description "Rate (vehicles/h) (Refer to BSI PAS-1883 Section 5.4.a.3)."@en ;
          sh:message "Validation of trafficFlowRateValue failed!"@en ;
          sh:name "trafficFlowRateValue"@en ;
          sh:order 48 ;
          # FIXED: Typo trafficFlowRatValue -> trafficFlowRateValue
          sh:path openlabel:trafficFlowRateValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for trafficVolume"@en ;
          sh:message "Validation of trafficVolume failed!"@en ;
          sh:name "trafficVolume"@en ;
          sh:order 49 ;
          sh:path openlabel:TrafficVolume ] ,

        [ sh:datatype xsd:nonNegativeInteger ;
          sh:description "Volume (vehicle km) (Refer to BSI PAS-1883 Section 5.4.a.2)."@en ;
          sh:message "Validation of trafficVolumeValue failed!"@en ;
          sh:name "trafficVolumeValue"@en ;
          sh:order 50 ;
          sh:path openlabel:trafficVolumeValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for laneSpecificationDimensions"@en ;
          sh:message "Validation of laneSpecificationDimensions failed!"@en ;
          sh:name "laneSpecificationDimensions"@en ;
          sh:order 51 ;
          sh:path openlabel:LaneSpecificationDimensions ] ,

        [ sh:path openlabel:laneSpecificationDimensionsValue ;
          sh:description "Lane width (m) (Refer to BSI PAS-1883 Section 5.2.3.4.a)."@en ;
          sh:message "Validation of laneSpecificationDimensionsValue failed!"@en ;
          sh:name "laneSpecificationDimensionsValue"@en ;
          sh:order 52 ;
          sh:or (
              [ sh:datatype xsd:decimal ;
                sh:description "Lane width (m) (Refer to BSI PAS-1883 Section 5.2.3.4.a) "@en ;
                sh:message "laneSpecificationDimensionsValue must be a single decimal."@en ;
                sh:name "laneSpecificationDimensionsValue"@en ;
                sh:order 1 ]
              [ sh:nodeKind sh:BlankNodeOrIRI ;
                sh:class schema:QuantitativeValue ;
                sh:node openlabel:QuantitativeValueShape ;
                sh:description "QuantitativeValue representing a range for laneSpecificationDimensionsValue (km/h)."@en ;
                sh:message "laneSpecificationDimensionsValue must be a QuantitativeValue with minValue and maxValue."@en ;
                sh:name "RangeValue"@en ;
                sh:order 2 ]
          ) ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for laneSpecificationLaneCount"@en ;
          sh:message "Validation of laneSpecificationLaneCount failed!"@en ;
          sh:name "laneSpecificationLaneCount"@en ;
          sh:order 53 ;
          sh:path openlabel:LaneSpecificationLaneCount ] ,

        [ sh:path openlabel:laneSpecificationLaneCountValue ;
          sh:description "Number of lanes (Unit) (Refer to BSI PAS-1883 Section 5.2.3.4.d)."@en ;
          sh:message "Validation of laneSpecificationLaneCountValue failed!"@en ;
          sh:name "laneSpecificationLaneCountValue"@en ;
          sh:order 54 ;
          sh:or (
              [ sh:datatype xsd:positiveInteger ;
                sh:description "Number of lanes (Unit) (Refer to BSI PAS-1883 Section 5.2.3.4.d) "@en ;
                sh:message "laneSpecificationLaneCountValue must be a single positiveInteger."@en ;
                # FIXED: Name copy-paste error
                sh:name "laneSpecificationLaneCountValue"@en ;
                sh:order 1 ]
              [ sh:nodeKind sh:BlankNodeOrIRI ;
                sh:class schema:QuantitativeValue ;
                sh:node openlabel:QuantitativeValueShape ;
                sh:description "QuantitativeValue representing a range for laneSpecificationLaneCountValue (Unit)."@en ;
                sh:message "laneSpecificationLaneCountValue must be a QuantitativeValue with minValue and maxValue."@en ;
                sh:name "RangeValue"@en ;
                sh:order 2 ]
          ) ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for horizontalCurves"@en ;
          sh:message "Validation of horizontalCurves failed!"@en ;
          sh:name "horizontalCurves"@en ;
          sh:order 55 ;
          sh:path openlabel:HorizontalCurves ] ,

        [ sh:datatype xsd:decimal ;
          sh:description "Curve Radius (m) (Refer to BSI PAS-1883 Section 5.2.3.3)."@en ;
          sh:message "Validation of horizontalCurvesValue failed!"@en ;
          sh:name "horizontalCurvesValue"@en ;
          sh:order 56 ;
          sh:path openlabel:horizontalCurvesValue ] ,

        [ sh:datatype xsd:boolean ;
          sh:description "Validation class for longitudinalDownSlope"@en ;
          sh:message "Validation of longitudinalDownSlope failed!"@en ;
          # FIXED: Typo longitudinalDownSlop -> longitudinalDownSlope
          sh:name "longitudinalDownSlope"@en ;
          sh:order 57 ;
          sh:path openlabel:LongitudinalDownSlope ] ,

        [ sh:datatype xsd:decimal ;
          sh:description "Gradient (%) (Refer to BSI PAS-1883 Section 5.2.3.3.ii)."@en ;
          sh:message "Validation of longitudinalDownSlopeValue failed!"@en ;
          sh:name "longitudinalDownSlopeValue"@en ;
          sh:order 58 ;
          sh:path openlabel:longitudinalDownSlopeValue ] ;

    sh:sparql
        [ a sh:SPARQLConstraint ;
          sh:message "If 'subjectVehicleSpeed' is not true, 'subjectVehicleSpeedValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:SubjectVehicleSpeed ?subjectVehicleSpeed . }
                  OPTIONAL { $this openlabel:subjectVehicleSpeedValue ?subjectVehicleSpeedValue . }
                  FILTER (
                      ( !BOUND(?subjectVehicleSpeed) || ?subjectVehicleSpeed != true ) &&
                      BOUND(?subjectVehicleSpeedValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'weatherRain' is not true, 'weatherRainValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:WeatherRain ?weatherRain . }
                  OPTIONAL { $this openlabel:weatherRainValue ?weatherRainValue . }
                  FILTER (
                      ( !BOUND(?weatherRain) || ?weatherRain != true ) &&
                      BOUND(?weatherRainValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'weatherSnow' is not true, 'weatherSnowValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:WeatherSnow ?weatherSnow . }
                  OPTIONAL { $this openlabel:weatherSnowValue ?weatherSnowValue . }
                  FILTER (
                      ( !BOUND(?weatherSnow) || ?weatherSnow != true ) &&
                      BOUND(?weatherSnowValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'weatherWind' is not true, 'weatherWindValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:WeatherWind ?weatherWind . }
                  OPTIONAL { $this openlabel:weatherWindValue ?weatherWindValue . }
                  FILTER (
                      ( !BOUND(?weatherWind) || ?weatherWind != true ) &&
                      BOUND(?weatherWindValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'illuminationCloudiness' is not true, 'illuminationCloudinessValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:IlluminationCloudiness ?illuminationCloudiness . }
                  OPTIONAL { $this openlabel:illuminationCloudinessValue ?illuminationCloudinessValue . }
                  FILTER (
                      ( !BOUND(?illuminationCloudiness) || ?illuminationCloudiness != true ) &&
                      BOUND(?illuminationCloudinessValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'daySunElevation' is not true, 'daySunElevationValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:DaySunElevation ?daySunElevation . }
                  OPTIONAL { $this openlabel:daySunElevationValue ?daySunElevationValue . }
                  FILTER (
                      ( !BOUND(?daySunElevation) || ?daySunElevation != true ) &&
                      BOUND(?daySunElevationValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'trafficAgentDensity' is not true, 'trafficAgentDensityValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:TrafficAgentDensity ?trafficAgentDensity . }
                  OPTIONAL { $this openlabel:trafficAgentDensityValue ?trafficAgentDensityValue . }
                  FILTER (
                      ( !BOUND(?trafficAgentDensity) || ?trafficAgentDensity != true ) &&
                      BOUND(?trafficAgentDensityValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          # FIXED: Typo trafficFlowRat -> trafficFlowRate
          sh:message "If 'trafficFlowRate' is not true, 'trafficFlowRateValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:TrafficFlowRate ?trafficFlowRate . }
                  OPTIONAL { $this openlabel:trafficFlowRateValue ?trafficFlowRateValue . }
                  FILTER (
                      ( !BOUND(?trafficFlowRate) || ?trafficFlowRate != true ) &&
                      BOUND(?trafficFlowRateValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'trafficVolume' is not true, 'trafficVolumeValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:TrafficVolume ?trafficVolume . }
                  OPTIONAL { $this openlabel:trafficVolumeValue ?trafficVolumeValue . }
                  FILTER (
                      ( !BOUND(?trafficVolume) || ?trafficVolume != true ) &&
                      BOUND(?trafficVolumeValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'laneSpecificationDimensions' is not true, 'laneSpecificationDimensionsValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:LaneSpecificationDimensions ?laneSpecificationDimensions . }
                  OPTIONAL { $this openlabel:laneSpecificationDimensionsValue ?laneSpecificationDimensionsValue . }
                  FILTER (
                      ( !BOUND(?laneSpecificationDimensions) || ?laneSpecificationDimensions != true ) &&
                      BOUND(?laneSpecificationDimensionsValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'laneSpecificationLaneCount' is not true, 'laneSpecificationLaneCountValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:LaneSpecificationLaneCount ?laneSpecificationLaneCount . }
                  OPTIONAL { $this openlabel:laneSpecificationLaneCountValue ?laneSpecificationLaneCountValue . }
                  FILTER (
                      ( !BOUND(?laneSpecificationLaneCount) || ?laneSpecificationLaneCount != true ) &&
                      BOUND(?laneSpecificationLaneCountValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'horizontalCurves' is not true, 'horizontalCurvesValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:HorizontalCurves ?horizontalCurves . }
                  OPTIONAL { $this openlabel:horizontalCurvesValue ?horizontalCurvesValue . }
                  FILTER (
                      ( !BOUND(?horizontalCurves) || ?horizontalCurves != true ) &&
                      BOUND(?horizontalCurvesValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'longitudinalDownSlope' is not true, 'longitudinalDownSlopeValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:LongitudinalDownSlope ?longitudinalDownSlope . }
                  OPTIONAL { $this openlabel:longitudinalDownSlopeValue ?longitudinalDownSlopeValue . }
                  FILTER (
                      ( !BOUND(?longitudinalDownSlope) || ?longitudinalDownSlope != true ) &&
                      BOUND(?longitudinalDownSlopeValue)
                  )
              }
          """ ] ,

        [ a sh:SPARQLConstraint ;
          sh:message "If 'longitudinalUpSlope' is not true, 'longitudinalUpSlopeValue' must not be present."@en ;
          sh:select """
              PREFIX openlabel: <https://openlabel.asam.net/V1-0-0/ontologies/>
              SELECT $this
              WHERE {
                  OPTIONAL { $this openlabel:LongitudinalUpSlope ?longitudinalUpSlope . }
                  OPTIONAL { $this openlabel:longitudinalUpSlopeValue ?longitudinalUpSlopeValue . }
                  FILTER (
                      ( !BOUND(?longitudinalUpSlope) || ?longitudinalUpSlope != true ) &&
                      BOUND(?longitudinalUpSlopeValue)
                  )
              }
          """ ] .

##############################################################################
# Quantitative Value Shape
##############################################################################

# Shape for QuantitativeValue to ensure minValue <= maxValue
openlabel:QuantitativeValueShape a sh:NodeShape ;
    sh:targetClass schema:QuantitativeValue ;
    sh:property [
        sh:path schema:minValue ;
        sh:minCount 1 ;
    ] ;
    sh:property [
        sh:path schema:maxValue ;
        sh:minCount 1 ;
    ] ;
    sh:sparql [
        sh:prefixes (
            [ sh:prefix "schema"; sh:namespace "https://schema.org/" ]
        );
        sh:message "minValue must be less than or equal to maxValue." ;
        sh:select """
            SELECT $this
            WHERE {
                $this schema:minValue ?min .
                $this schema:maxValue ?max .
                FILTER(?min > ?max)
            }
        """ ] .
