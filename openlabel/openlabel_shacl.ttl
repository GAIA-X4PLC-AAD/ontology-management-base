@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix default: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ex: <https://openlabel.asam.net/V1-0-0/ontologies/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix schema: <https://schema.org/> .


ex:TagShape a sh:NodeShape ;
    sh:targetClass ex:Tag ;
    sh:property [
        sh:minCount 0 ;
        sh:node ex:AdminTagShape ;
        sh:order 1 ;
        sh:path ex:AdminTag ;
    ] ,
     [
        sh:minCount 0 ;
        sh:node ex:BehaviourShape ;
        sh:order 2 ;
        sh:path ex:Behaviour ;
    ] ,
     [
        sh:minCount 0 ;
        sh:node ex:OddShape ;
        sh:order 3 ;
        sh:path ex:Odd ;
    ] ,
     [
        sh:minCount 0 ;
        sh:node ex:RoadUserShape ;
        sh:order 4 ;
        sh:path ex:RoadUser ;
    ] .


ex:AdminTagShape a sh:NodeShape ;
    sh:targetClass ex:adminTag ;
    sh:property
                [ sh:datatype rdfs:Literal  ;
                  sh:description "The type of license which governs usage of the scenario"@en ;
                  sh:message "The type of license which governs usage of the scenario"@en ;
                  sh:name "LiscenceURI"@en ;
                  sh:order 0 ;
                  sh:path ex:LiscenceURI ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario owner email"@en ;
                  sh:message "The email address of the legal entity who owns the rights to the scenario"@en ;
                  sh:name "ownerEmail"@en ;
                  sh:order 1 ;
                  sh:path ex:ownerEmail ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario owner name"@en ;
                  sh:message "The name address of the legal entity who owns the rights to the scenario"@en ;
                  sh:name "ownerName"@en ;
                  sh:order 2 ;
                  sh:path ex:ownerName ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario owner URL"@en ;
                  sh:message "The URL of the legal entity who owns the rights to the scenario"@en ;
                  sh:name "ownerURL"@en ;
                  sh:order 3 ;
                  sh:path ex:ownerURL ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario created date"@en ;
                  sh:message "The date that the scenario was created/published"@en ;
                  sh:name "scenarioCreatedDate"@en ;
                  sh:order 4 ;
                  sh:path ex:scenarioCreatedDate ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario definition SDL"@en ;
                  sh:message "SDL definition of the scenario"@en ;
                  sh:name "scenarioDefinition"@en ;
                  sh:order 5 ;
                  sh:path ex:scenarioDefinition ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario definition type"@en ;
                  sh:message "URI of SDL language used for the definition of the scenario"@en ;
                  sh:name "scenarioDefinitionLanguageURI"@en ;
                  sh:order 6 ;
                  sh:path ex:scenarioDefinitionLanguageURI ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario description"@en ;
                  sh:message "A description of the scenario"@en ;
                  sh:name "scenarioDescription"@en ;
                  sh:order 7 ;
                  sh:path ex:scenarioDescription ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario name"@en ;
                  sh:message "The name of the scenario"@en ;
                  sh:name "scenarioName"@en ;
                  sh:order 8 ;
                  sh:path ex:scenarioName ]
                ,

                [ sh:datatype rdfs:Literal  ;
                  sh:description "Scenario parent reference"@en ;
                  sh:message "This is a universally unique identifier (UUID) which identifies the scenario which this one has been derived from."@en ;
                  sh:name "scenarioParentReference"@en ;
                  sh:order 9 ;
                  sh:path ex:scenarioParentReference ]
                ,

                [ sh:datatype rdfs:Literal  ;
                sh:description "Scenario unique reference"@en ;
                sh:message "This is a universally unique identifier (UUID) assigned to the scenario which allows the scenario to be identified."@en ;
                sh:name "scenarioUniqueReference"@en ;
                sh:order 10 ;
                sh:path ex:scenarioUniqueReference ]
                ,

                [ sh:datatype rdfs:Literal  ;
                sh:description "Scenario version"@en ;
                sh:message "The version number of the scenario."@en ;
                sh:name "scenarioVersion"@en ;
                sh:order 11 ;
                sh:path ex:scenarioVersion ]
                ,


                [ sh:datatype rdfs:Literal  ;
                sh:description "Scenario visualization"@en ;
                sh:message "Relative or absolute URL of a static image or animation of the scenario to allow users to easily see what the scenario represents"@en ;
                sh:name "scenarioVersion"@en ;
                sh:order 12 ;
                sh:path ex:scenarioVisualisationURL ]
                .


ex:RoadUserShape a sh:NodeShape ;
    sh:targetClass ex:RoadUser ;
    sh:property
                [ sh:datatype xsd:decimal ;
                      sh:description "Speed (km/h) ."@en ;
                      sh:message "Validation of motionDriveValue failed!"@en ;
                      sh:name "motionDriveValue"@en ;
                      sh:order 23 ;
                      sh:path ex:motionDriveValue ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for RoadUserVehicle"@en ;
                  sh:in ("VehicleBus" "VehicleCar" "VehicleConstruction" "VehicleCycle" "VehicleEmergency" "VehicleMotorcycle" "VehicleTrailer" "VehicleTruck" "VehicleVan" "VehicleWheelchair") ;
                  sh:message "Validation of RoadUserVehicle failed!"@en ;
                  sh:name "RoadUserVehicle"@en ;
                  sh:order 1 ;
                  sh:path ex:RoadUserVehicle ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for RoadUserHuman "@en ;
                  sh:message "Validation of boolean  failed!"@en ;
                  sh:name "RoadUserHuman"@en ;
                  sh:order 2 ;
                  sh:path ex:RoadUserHuman  ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for RoadUserAnimal "@en ;
                  sh:message "Validation of boolean  failed!"@en ;
                  sh:name "RoadUserAnimal"@en ;
                  sh:order 2 ;
                  sh:path ex:RoadUserAnimal  ]
.

ex:BehaviourShape a sh:NodeShape ;
    sh:targetClass ex:Behaviour ;
    sh:property
                    [ sh:datatype xsd:string ;
                      sh:description "Validation class for BehaviourCommunication"@en ;
                      sh:in ("CommunicationHeadlightFlash" "CommunicationHorn" "CommunicationSignalEmergency" "CommunicationSignalHazard" "CommunicationSignalLeft" "CommunicationSignalRight" "CommunicationSignalSlowing" "CommunicationWave") ;
                      sh:message "Validation of BehaviourCommunication failed!"@en ;
                      sh:name "BehaviourCommunication"@en ;
                      sh:order 0 ;
                      sh:path ex:BehaviourCommunication ]
                     ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionAway"@en ;
                      sh:message "Validation of MotionAway failed!"@en ;
                      sh:name "MotionAway"@en ;
                      sh:order 1 ;
                      sh:path ex:MotionAway ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionCross"@en ;
                      sh:message "Validation of MotionCross failed!"@en ;
                      sh:name "MotionCross"@en ;
                      sh:order 2 ;
                      sh:path ex:MotionCross ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionCutIn"@en ;
                      sh:message "Validation of MotionCutIn failed!"@en ;
                      sh:name "MotionCutIn"@en ;
                      sh:order 3 ;
                      sh:path ex:MotionCutIn ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionCutOut"@en ;
                      sh:message "Validation of MotionCutOut failed!"@en ;
                      sh:name "MotionCutOut"@en ;
                      sh:order 4 ;
                      sh:path ex:MotionCutOut ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionLaneChangeLeft"@en ;
                      sh:message "Validation of MotionLaneChangeLeft failed!"@en ;
                      sh:name "MotionLaneChangeLeft"@en ;
                      sh:order 5 ;
                      sh:path ex:MotionLaneChangeLeft ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionLaneChangeRight"@en ;
                      sh:message "Validation of MotionLaneChangeRight failed!"@en ;
                      sh:name "MotionLaneChangeRight"@en ;
                      sh:order 6 ;
                      sh:path ex:MotionLaneChangeRight ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionOvertake"@en ;
                      sh:message "Validation of MotionOvertake failed!"@en ;
                      sh:name "MotionOvertake"@en ;
                      sh:order 7 ;
                      sh:path ex:MotionOvertake ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionReverse"@en ;
                      sh:message "Validation of MotionReverse failed!"@en ;
                      sh:name "MotionReverse"@en ;
                      sh:order 8 ;
                      sh:path ex:MotionReverse ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionRun"@en ;
                      sh:message "Validation of MotionRun failed!"@en ;
                      sh:name "MotionRun"@en ;
                      sh:order 9 ;
                      sh:path ex:MotionRun ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionSlide"@en ;
                      sh:message "Validation of MotionSlide failed!"@en ;
                      sh:name "MotionSlide"@en ;
                      sh:order 10 ;
                      sh:path ex:MotionSlide ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionStop"@en ;
                      sh:message "Validation of MotionStop failed!"@en ;
                      sh:name "MotionStop"@en ;
                      sh:order 11 ;
                      sh:path ex:MotionStop ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionTowards"@en ;
                      sh:message "Validation of MotionTowards failed!"@en ;
                      sh:name "MotionTowards"@en ;
                      sh:order 12 ;
                      sh:path ex:MotionTowards ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionTurn"@en ;
                      sh:message "Validation of MotionTurn failed!"@en ;
                      sh:name "MotionTurn"@en ;
                      sh:order 13 ;
                      sh:path ex:MotionTurn ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionTurnLeft"@en ;
                      sh:message "Validation of MotionTurnLeft failed!"@en ;
                      sh:name "MotionTurnLeft"@en ;
                      sh:order 14 ;
                      sh:path ex:MotionTurnLeft ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionTurnRight"@en ;
                      sh:message "Validation of MotionTurnRight failed!"@en ;
                      sh:name "MotionTurnRight"@en ;
                      sh:order 15 ;
                      sh:path ex:MotionTurnRight ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionUTurn"@en ;
                      sh:message "Validation of MotionUTurn failed!"@en ;
                      sh:name "MotionUTurn"@en ;
                      sh:order 16 ;
                      sh:path ex:MotionUTurn ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for MotionWalk"@en ;
                      sh:message "Validation of MotionWalk failed!"@en ;
                      sh:name "MotionWalk"@en ;
                      sh:order 17 ;
                      sh:path ex:MotionWalk ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for motionAccelerate"@en ;
                      sh:message "Validation of motionAccelerate failed!"@en ;
                      sh:name "motionAccelerate"@en ;
                      sh:order 18 ;
                      sh:path ex:MotionAccelerate ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for motionDecelerate"@en ;
                      sh:message "Validation of motionDecelerate failed!"@en ;
                      sh:name "motionDecelerate"@en ;
                      sh:order 20 ;
                      sh:path ex:MotionDecelerate ]
                    ,

                    [ sh:datatype xsd:boolean ;
                      sh:description "Validation class for motionDrive"@en ;
                      sh:message "Validation of motionDrive failed!"@en ;
                      sh:name "motionDrive"@en ;
                      sh:order 22 ;
                      sh:path ex:MotionDrive]
                    ,

                    [
                      sh:path ex:motionAccelerateValue;
                      sh:description "Rate of acceleration (ms-2) ."@en ;
                      sh:message "Validation of motionAccelerateValue failed!"@en ;
                      sh:name "motionAccelerateValue"@en ;
                      sh:order 19 ;
                      sh:or (
                        [
                            # Option 1: Single decimal value
                            sh:datatype xsd:decimal ;
                            sh:description "Single decimal value representing a acceleration value (ms-2)."@en ;
                            sh:message "motionAccelerateValue must be a single decimal."@en ;
                            sh:name "singleMotionDecelerateValue"@en ;
                        ]
                        [
                            # Option 2: QuantitativeValue with min and max
                            sh:nodeKind sh:BlankNodeOrIRI ;
                            sh:class schema:QuantitativeValue ;
                            sh:node ex:QuantitativeValueShape ;
                            sh:description "QuantitativeValue representing a range for a acceleration value (ms-2)."@en ;
                            sh:message "motionAccelerateValue must be a QuantitativeValue with minValue and maxValue."@en ;
                            sh:name "RangeValue"@en ;
                        ]
                        ) ;
                    ],

                    [
                      sh:path ex:motionDecelerateValue;
                      sh:description "MotionDecelerateVale can be a single decimal or a range (ms-2) ."@en ;
                      sh:message "Validation of motionDecelerateValue failed!"@en ;
                      sh:name "motionDecelerateValue"@en ;
                      sh:order 21 ;
                      sh:or (
                        [
                            # Option 1: Single decimal value
                            sh:datatype xsd:decimal ;
                            sh:description "Single decimal value representing a deceleration value (ms-2)."@en ;
                            sh:message "motionDecelerateValue must be a single decimal."@en ;
                            sh:name "singleMotionDecelerateValue"@en ;
                        ]
                        [
                            # Option 2: QuantitativeValue with min and max
                            sh:nodeKind sh:BlankNodeOrIRI ;
                            sh:class schema:QuantitativeValue ;
                            sh:node ex:QuantitativeValueShape ;
                            sh:description "QuantitativeValue representing a range for a deceleration value (ms-2)."@en ;
                            sh:message "motionDecelerateValue must be a QuantitativeValue with minValue and maxValue."@en ;
                            sh:name "RangeValue"@en ;
                        ]
                        ) ;
                    ],

                    [
                    sh:path ex:motionDriveValue ;
                    sh:description "Motion drive value can be a single decimal or a range Speed (km/h) ."@en ;
                    sh:message "Validation of motionDriveValue failed!"@en ;
                    sh:name "motionDriveValue"@en ;
                    sh:order 23 ;
                    sh:or (
                        [
                            # Option 1: Single decimal value
                            sh:datatype xsd:decimal ;
                            sh:description "Single decimal value representing motion drive Speed (km/h)."@en ;
                            sh:message "motionDriveValue must be a single decimal."@en ;
                            sh:name "SingleDecimalValue"@en ;
                            sh:order 1 ;
                        ]
                        [
                            # Option 2: QuantitativeValue with min and max
                            sh:nodeKind sh:BlankNodeOrIRI ;
                            sh:class schema:QuantitativeValue ;
                            sh:node ex:QuantitativeValueShape ;
                            sh:description "QuantitativeValue representing a range for motion drive Speed (km/h)."@en ;
                            sh:message "motionDriveValue must be a QuantitativeValue with minValue and maxValue."@en ;
                            sh:name "RangeValue"@en ;
                            sh:order 2 ;
                        ]
                    ) ;
                    ];

                    # SPARQL constraint to enforce the conditional logic
                    sh:sparql [
                    a sh:SPARQLConstraint ;
                    sh:message "If 'MotionAccelerate' is not true, 'motionAccelerateValue' must not be present."@en ;
                    sh:select """
                        PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                        SELECT $this
                        WHERE {
                            OPTIONAL { $this ex:MotionAccelerate ?motionAccelerate . }
                            OPTIONAL { $this ex:motionAccelerateValue ?motionAccelerateValue . }

                            FILTER (
                                ( !BOUND(?motionAccelerate) || ?motionAccelerate != true ) &&
                                BOUND(?motionAccelerateValue)
                            )
                        }
                    """ ;
                    ]
                    ,

                    [
                    a sh:SPARQLConstraint ;
                    sh:message "If 'motionDecelerate' is not true, 'motionDecelerateValue' must not be present."@en ;
                    sh:select """
                        PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                        SELECT $this
                        WHERE {
                            OPTIONAL { $this ex:MotionDecelerate ?motionDecelerate . }
                            OPTIONAL { $this ex:motionDecelerateValue ?motionDecelerateValue . }

                            FILTER (
                                ( !BOUND(?motionDecelerate) || ?motionDecelerate != true ) &&
                                BOUND(?motionDecelerateValue)
                            )
                        }
                    """ ;
                    ]
                    ,

                    [
                    a sh:SPARQLConstraint ;
                    sh:message "If 'motionDrive' is not true, 'motionDriveValue' must not be present."@en ;
                    sh:select """
                        PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                        SELECT $this
                        WHERE {
                            OPTIONAL { $this ex:MotionDrive ?motionDrive . }
                            OPTIONAL { $this ex:motionDriveValue ?motionDriveValue . }

                            FILTER (
                                ( !BOUND(?motionDrive) || ?motionDrive != true ) &&
                                BOUND(?motionDriveValue)
                            )
                        }
                    """ ;
                    ]
                    .

ex:OddShape a sh:NodeShape ;
    sh:targetClass ex:Odd ;
    sh:property

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for DrivableAreaEdge"@en ;
                  sh:in ("EdgeLineMarkers" "EdgeNone" "EdgeShoulderGrass" "EdgeShoulderPavedOrGravel" "EdgeSolidBarriers" "EdgeTemporaryLineMarkers") ;
                  sh:message "Validation of DrivableAreaEdge failed!"@en ;
                  sh:name "DrivableAreaEdge"@en ;
                  sh:order 0 ;
                  sh:path ex:DrivableAreaEdge ]
                 ,
                [ sh:datatype xsd:string ;
                  sh:description "Validation class for GeometryTransverse"@en ;
                  sh:in ("TransverseBarriers" "TransverseDivided" "TransverseLanesTogether" "TransversePavements" "TransverseUndivided") ;
                  sh:message "Validation of GeometryTransverse failed!"@en ;
                  sh:name "GeometryTransverse"@en ;
                  sh:order 1 ;
                  sh:path ex:GeometryTransverse ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for LaneSpecificationTravelDirection"@en ;
                  sh:in ("TravelDirectionLeft" "TravelDirectionRight") ;
                  sh:message "Validation of LaneSpecificationTravelDirection failed!"@en ;
                  sh:name "LaneSpecificationTravelDirection"@en ;
                  sh:order 2 ;
                  sh:path ex:LaneSpecificationTravelDirection ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for LaneSpecificationType"@en ;
                  sh:in ("LaneTypeBus" "LaneTypeCycle" "LaneTypeEmergency" "LaneTypeSpecial" "LaneTypeTraffic" "LaneTypeTram") ;
                  sh:message "Validation of LaneSpecificationType failed!"@en ;
                  sh:name "LaneSpecificationType"@en ;
                  sh:order 3 ;
                  sh:path ex:LaneSpecificationType ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for SignsInformation"@en ;
                  sh:in ("InformationSignsUniformFullTime" "InformationSignsUniformTemporary" "InformationSignsVariableFullTime" "InformationSignsVariableTemporary") ;
                  sh:message "Validation of SignsInformation failed!"@en ;
                  sh:name "SignsInformation"@en ;
                  sh:order 4 ;
                  sh:path ex:SignsInformation ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for SignsRegulatory"@en ;
                  sh:in ("RegulatorySignsUniformFullTime" "RegulatorySignsUniformTemporary" "RegulatorySignsVariableFullTime" "RegulatorySignsVariableTemporary");
                  sh:message "Validation of SignsRegulatory failed!"@en ;
                  sh:name "SignsRegulatory"@en ;
                  sh:order 5 ;
                  sh:path ex:SignsRegulatory ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for SignsWarning"@en ;
                  sh:in (
                            "WarningSignsUniformFullTime"
                            "WarningSignsUniformTemporary"
                            "WarningSignsVariableFullTime"
                            "WarningSignsVariableTemporary"
                            "WarningSignsUniform"
                        ) ;
                  sh:message "Validation of InformationSignsUniform failed!"@en ;
                  sh:message "Validation of SignsWarning failed!"@en ;
                  sh:name "SignsWarning"@en ;
                  sh:order 6 ;
                  sh:path ex:SignsWarning ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for DrivableAreaSurfaceCondition"@en ;
                  sh:in ("SurfaceConditionContamination" "SurfaceConditionFlooded" "SurfaceConditionIcy" "SurfaceConditionMirage" "SurfaceConditionSnow" "SurfaceConditionStandingWater" "SurfaceConditionWet") ;
                  sh:message "Validation of DrivableAreaSurfaceCondition failed!"@en ;
                  sh:name "DrivableAreaSurfaceCondition"@en ;
                  sh:order 7 ;
                  sh:path ex:DrivableAreaSurfaceCondition ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for DrivableAreaSurfaceFeature"@en ;
                  sh:in ("SurfaceFeatureCrack" "SurfaceFeaturePothole" "SurfaceFeatureRut" "SurfaceFeatureSwell") ;
                  sh:message "Validation of DrivableAreaSurfaceFeature failed!"@en ;
                  sh:name "DrivableAreaSurfaceFeature"@en ;
                  sh:order 8 ;
                  sh:path ex:DrivableAreaSurfaceFeature ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for DrivableAreaSurfaceType"@en ;
                  sh:in ("SurfaceTypeLoose" "SurfaceTypeSegmented" "SurfaceTypeUniform") ;
                  sh:message "Validation of DrivableAreaSurfaceType failed!"@en ;
                  sh:name "DrivableAreaSurfaceType"@en ;
                  sh:order 9 ;
                  sh:path ex:DrivableAreaSurfaceType ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for DrivableAreaType"@en ;
                  sh:in ("RoadTypeDistributor" "RoadTypeMinor" "RoadTypeMotorway" "RoadTypeParking" "RoadTypeRadial" "RoadTypeShared" "RoadTypeSlip") ;
                  sh:message "Validation of DrivableAreaType failed!"@en ;
                  sh:name "DrivableAreaType"@en ;
                  sh:order 10 ;
                  sh:path ex:DrivableAreaType]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for SceneryFixedStructure"@en ;
                  sh:in ("FixedStructureBuilding" "FixedStructureStreetFurniture" "FixedStructureStreetlight" "FixedStructureVegetation") ;
                  sh:message "Validation of SceneryFixedStructure failed!"@en ;
                  sh:name "SceneryFixedStructure"@en ;
                  sh:order 11 ;
                  sh:path ex:SceneryFixedStructure ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for JunctionIntersection"@en ;
                  sh:in ("IntersectionCrossroad" "IntersectionGradeSeperated" "IntersectionStaggered" "IntersectionTJunction" "IntersectionYJunction") ;
                  sh:message "Validation of JunctionIntersection failed!"@en ;
                  sh:name "JunctionIntersection"@en ;
                  sh:order 12 ;
                  sh:path ex:JunctionIntersection ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for JunctionRoundabout"@en ;
                  sh:in ("RoundaboutCompactNosignal" "RoundaboutCompactSignal" "RoundaboutDoubleNosignal" "RoundaboutDoubleSignal" "RoundaboutLargeNosignal" "RoundaboutLargeSignal" "RoundaboutMiniNosignal" "RoundaboutMiniSignal" "RoundaboutNormalNosignal" "RoundaboutNormalSignal");                  sh:message "Validation of JunctionRoundabout failed!"@en ;
                  sh:name "JunctionRoundabout"@en ;
                  sh:order 13 ;
                  sh:path ex:JunctionRoundabout ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for ScenerySpecialStructure"@en ;
                  sh:in ("SpecialStructureAutoAccess" "SpecialStructureBridge" "SpecialStructurePedestrianCrossing" "SpecialStructureRailCrossing" "SpecialStructureTollPlaza" "SpecialStructureTunnel") ;
                  sh:message "Validation of ScenerySpecialStructure failed!"@en ;
                  sh:name "ScenerySpecialStructure"@en ;
                  sh:order 14 ;
                  sh:path ex:ScenerySpecialStructure ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for SceneryTemporaryStructure"@en ;
                  sh:in ("TemporaryStructureConstructionDetour" "TemporaryStructureRefuseCollection" "TemporaryStructureRoadSignage" "TemporaryStructureRoadWorks") ;
                  sh:message "Validation of SceneryTemporaryStructure failed!"@en ;
                  sh:name "SceneryTemporaryStructure"@en ;
                  sh:order 15 ;
                  sh:path ex:SceneryTemporaryStructure ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for SceneryZone"@en ;
                  sh:in ("ZoneGeoFenced" "ZoneInterference" "ZoneRegion" "ZoneSchool" "ZoneTrafficManagement") ;
                  sh:message "Validation of SceneryZone failed!"@en ;
                  sh:name "SceneryZone"@en ;
                  sh:order 16 ;
                  sh:path ex:SceneryZone ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for ConnectivityCommunication"@en ;
                  sh:in ("CommunicationV2i" "CommunicationV2v") ;
                  sh:message "Validation of ConnectivityCommunication failed!"@en ;
                  sh:name "ConnectivityCommunication"@en ;
                  sh:order 17 ;
                  sh:path ex:ConnectivityCommunication ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for ConnectivityPositioning"@en ;
                  sh:in ("PositioningGalileo" "PositioningGlonass" "PositioningGps") ;
                  sh:message "Validation of ConnectivityPositioning failed!"@en ;
                  sh:name "ConnectivityPositioning"@en ;
                  sh:order 18 ;
                  sh:path ex:ConnectivityPositioning ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for IlluminationArtificial"@en ;
                  sh:in ("ArtificialStreetLighting" "ArtificialVehicleLighting") ;
                  sh:message "Validation of IlluminationArtificial failed!"@en ;
                  sh:name "IlluminationArtificial"@en ;
                  sh:order 19 ;
                  sh:path ex:IlluminationArtificial ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for IlluminationLowLight"@en ;
                  sh:in ("LowLightAmbient" "LowLightNight") ;
                  sh:message "Validation of IlluminationLowLight failed!"@en ;
                  sh:name "IlluminationLowLight"@en ;
                  sh:order 20 ;
                  sh:path ex:IlluminationLowLight ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for RainType"@en ;
                  sh:in ("RainTypeConvective" "RainTypeDynamic" "RainTypeOrographic") ;
                  sh:message "Validation of RainType failed!"@en ;
                  sh:name "RainType"@en ;
                  sh:order 21 ;
                  sh:path ex:RainType ]
                ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for EnvironmentParticulates"@en ;
                  sh:in ("ParticulatesDust" "ParticulatesMarine" "ParticulatesPollution" "ParticulatesVolcanic" "ParticulatesWater") ;
                  sh:message "Validation of EnvironmentParticulates failed!"@en ;
                  sh:name "EnvironmentParticulates"@en ;
                  sh:order 22 ;
                  sh:path ex:EnvironmentParticulates ]
                 ,

                [ sh:datatype xsd:string ;
                  sh:description "Validation class for RainType"@en ;
                  sh:in ("RainTypeConvective" "RainTypeDynamic" "RainTypeOrographic") ;
                  sh:message "Validation of RainType failed!"@en ;
                  sh:name "RainType"@en ;
                  sh:order 23 ;
                  sh:path ex:RainType ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for LaneSpecificationMarking"@en ;
                  sh:message "Validation of LaneSpecificationMarking failed!"@en ;
                  sh:name "LaneSpecificationMarking"@en ;
                  sh:order 24;
                  sh:path ex:LaneSpecificationMarking ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for HorizontalStraights"@en ;
                  sh:message "Validation of HorizontalStraights failed!"@en ;
                  sh:name "HorizontalStraights"@en ;
                  sh:order 25 ;
                  sh:path ex:HorizontalStraights ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for LongitudinalLevelPlane"@en ;
                  sh:message "Validation of LongitudinalLevelPlane failed!"@en ;
                  sh:name "LongitudinalLevelPlane"@en ;
                  sh:order 26 ;
                  sh:path ex:LongitudinalLevelPlane ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for DaySunPosition"@en ;
                  sh:message "Validation of DaySunPosition failed!"@en ;
                  sh:name "DaySunPosition"@en ;
                  sh:order 27 ;
                  sh:path ex:DaySunPosition ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for ParticulatesDust"@en ;
                  sh:message "Validation of ParticulatesDust failed!"@en ;
                  sh:name "ParticulatesDust"@en ;
                  sh:order 28 ;
                  sh:path ex:ParticulatesDust ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for ParticulatesMarine"@en ;
                  sh:message "Validation of ParticulatesMarine failed!"@en ;
                  sh:name "ParticulatesMarine"@en ;
                  sh:order 29 ;
                  sh:path ex:ParticulatesMarine ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for ParticulatesPollution"@en ;
                  sh:message "Validation of ParticulatesPollution failed!"@en ;
                  sh:name "ParticulatesPollution"@en ;
                  sh:order 30 ;
                  sh:path ex:ParticulatesPollution ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for ParticulatesVolcanic"@en ;
                  sh:message "Validation of ParticulatesVolcanic failed!"@en ;
                  sh:name "ParticulatesVolcanic"@en ;
                  sh:order 31 ;
                  sh:path ex:ParticulatesVolcanic ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for TrafficSpecialVehicle"@en ;
                  sh:message "Validation of TrafficSpecialVehicle failed!"@en ;
                  sh:name "TrafficSpecialVehicle"@en ;
                  sh:order 32 ;
                  sh:path ex:TrafficSpecialVehicle ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for subjectVehicleSpeed"@en ;
                  sh:message "Validation of subjectVehicleSpeed failed!"@en ;
                  sh:name "subjectVehicleSpeed"@en ;
                  sh:order 33 ;
                  sh:path ex:SubjectVehicleSpeed ]
                ,


                [
                    sh:path ex:subjectVehicleSpeedValue;
                sh:description "Speed (km/h) (Refer to BSI PAS-1883 Section 5.4.b) ."@en ;
                sh:message "Validation of subjectVehicleSpeedValue failed!"@en ;
                sh:name "subjectVehicleSpeedValue"@en ;
                sh:order 34 ;
                sh:or (
                    [
                        # Option 1: Single decimal value
                        sh:datatype xsd:nonNegativeInteger ;
                        sh:description "Single decimal value representing subjectVehicleSpeedValue (km/h)."@en ;
                        sh:message "subjectVehicleSpeedValue must be a single decimal."@en ;
                        sh:name "nonNegativeInteger"@en ;
                        sh:order 1 ;
                    ]
                    [
                        # Option 2: QuantitativeValue with min and max
                        sh:nodeKind sh:BlankNodeOrIRI ;
                        sh:class schema:QuantitativeValue ;
                        sh:node ex:QuantitativeValueShape ;
                        sh:description "QuantitativeValue representing a range for subjectVehicleSpeedValue (km/h)."@en ;
                        sh:message "subjectVehicleSpeedValue must be a QuantitativeValue with minValue and maxValue."@en ;
                        sh:name "RangeValue"@en ;
                        sh:order 2 ;
                    ]
                ) ;
                ],

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for weatherRain"@en ;
                  sh:message "Validation of weatherRain failed!"@en ;
                  sh:name "weatherRain"@en ;
                  sh:order 35 ;
                  sh:path ex:WeatherRain ]
                ,

                [ sh:datatype xsd:decimal ;
                  sh:description "Rainfall Intensity (mm/h) (Refer to BSI PAS-1883 Section 5.3.1.2) ."@en ;
                  sh:message "Validation of weatherRainValue failed!"@en ;
                  sh:name "weatherRainValue"@en ;
                  sh:order 36 ;
                  sh:path ex:weatherRainValue ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for weatherSnow"@en ;
                  sh:message "Validation of weatherSnow failed!"@en ;
                  sh:name "weatherSnow"@en ;
                  sh:order 37 ;
                  sh:path ex:WeatherSnow ]
                ,


                  [ sh:datatype xsd:decimal ;
                  sh:description "Visibility (km) (Refer to BSI PAS-1883 Section 5.3.1.3) ."@en ;
                  sh:message "Validation of weatherSnowValue failed!"@en ;
                  sh:name "weatherSnowValue"@en ;
                  sh:order 38 ;
                  sh:path ex:weatherSnowValue ]
                  ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for weatherWind"@en ;
                  sh:message "Validation of weatherWind failed!"@en ;
                  sh:name "weatherWind"@en ;
                  sh:order 39 ;
                  sh:path ex:WeatherWind ]
                ,


                  [ sh:datatype xsd:decimal ;
                  sh:description "Wind Speed (m/s) (Refer to BSI PAS-1883 Section 5.3.1.1) ."@en ;
                  sh:message "Validation of weatherWindValue failed!"@en ;
                  sh:name "weatherWindValue"@en ;
                  sh:order 40 ;
                  sh:path ex:weatherWindValue ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for illuminationCloudiness"@en ;
                  sh:message "Validation of illuminationCloudiness failed!"@en ;
                  sh:name "illuminationCloudiness"@en ;
                  sh:order 41 ;
                  sh:path ex:IlluminationCloudiness ]
                ,


                  [ sh:datatype xsd:decimal ;
                  sh:description "Cloud cover (okta) (Refer to BSI PAS-1883 Section 5.3.3.c) ."@en ;
                  sh:message "Validation of illuminationCloudinessValue failed!"@en ;
                  sh:name "illuminationCloudinessValue"@en ;
                  sh:order 42 ;
                  sh:path ex:illuminationCloudinessValue ]
                  ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for daySunElevation"@en ;
                  sh:message "Validation of daySunElevation failed!"@en ;
                  sh:name "daySunElevation"@en ;
                  sh:order 43 ;
                  sh:path ex:DaySunElevation ]
                ,

                 [ sh:datatype xsd:decimal ;
                  sh:description "Sun Elevation (degrees) (Refer to BSI PAS-1883 Section 5.3.3.a.1) ."@en ;
                  sh:message "Validation of daySunElevationValue failed!"@en ;
                  sh:name "daySunElevationValue"@en ;
                  sh:order 44 ;
                  sh:path ex:daySunElevationValue ]
                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for trafficAgentDensity"@en ;
                  sh:message "Validation of trafficAgentDensity failed!"@en ;
                  sh:name "trafficAgentDensity"@en ;
                  sh:order 45 ;
                  sh:path ex:TrafficAgentDensity ]
                ,


                  [ sh:datatype xsd:nonNegativeInteger ;
                  sh:description "Density (vehicles/km) (Refer to BSI PAS-1883 Section 5.4.a.1) ."@en ;
                  sh:message "Validation of trafficAgentDensityValue failed!"@en ;
                  sh:name "trafficAgentDensityValue"@en ;
                  sh:order 46 ;
                  sh:path ex:trafficAgentDensityValue ]
                  ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for trafficFlowRate"@en ;
                  sh:message "Validation of trafficFlowRat failed!"@en ;
                  sh:name "trafficFlowRat"@en ;
                  sh:order 47 ;
                  sh:path ex:TrafficFlowRate ]
                ,


                  [ sh:datatype xsd:nonNegativeInteger ;
                  sh:description "Rate (vehicles/h) (Refer to BSI PAS-1883 Section 5.4.a.3) ."@en ;
                  sh:message "Validation of trafficFlowRateValue failed!"@en ;
                  sh:name "trafficFlowRateValue"@en ;
                  sh:order 48 ;
                  sh:path ex:trafficFlowRateValue ]

                ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for trafficVolume"@en ;
                  sh:message "Validation of trafficVolume failed!"@en ;
                  sh:name "trafficVolume"@en ;
                  sh:order 49 ;
                  sh:path ex:TrafficVolume ]
                ,


                  [ sh:datatype xsd:nonNegativeInteger ;
                  sh:description "Volume (vehicle km) (Refer to BSI PAS-1883 Section 5.4.a.2) ."@en ;
                  sh:message "Validation of trafficVolumeValue failed!"@en ;
                  sh:name "trafficVolumeValue"@en ;
                  sh:order 50 ;
                  sh:path ex:trafficVolumeValue ]
                  ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for laneSpecificationDimensions"@en ;
                  sh:message "Validation of laneSpecificationDimensions failed!"@en ;
                  sh:name "laneSpecificationDimensions"@en ;
                  sh:order 51 ;
                  sh:path ex:LaneSpecificationDimensions ]
                ,

                [
                sh:path ex:laneSpecificationDimensionsValue;
                sh:description "Lane width (m) (Refer to BSI PAS-1883 Section 5.2.3.4.a) ."@en ;
                sh:message "Validation of laneSpecificationDimensionsValue failed!"@en ;
                sh:name "laneSpecificationDimensionsValue"@en ;
                sh:order 52 ;
                sh:or (
                    [
                        # Option 1: Single decimal value
                        sh:datatype xsd:decimal ;
                        sh:description "Lane width (m) (Refer to BSI PAS-1883 Section 5.2.3.4.a) "@en ;
                        sh:message "laneSpecificationDimensionsValue must be a single decimal."@en ;
                        sh:name "laneSpecificationDimensionsValue"@en ;
                        sh:order 1 ;
                    ]
                    [
                        # Option 2: QuantitativeValue with min and max
                        sh:nodeKind sh:BlankNodeOrIRI ;
                        sh:class schema:QuantitativeValue ;
                        sh:node ex:QuantitativeValueShape ;
                        sh:description "QuantitativeValue representing a range for laneSpecificationDimensionsValue (km/h)."@en ;
                        sh:message "laneSpecificationDimensionsValue must be a QuantitativeValue with minValue and maxValue."@en ;
                        sh:name "RangeValue"@en ;
                        sh:order 2 ;
                    ]
                ) ;
                ],

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for laneSpecificationLaneCount"@en ;
                  sh:message "Validation of laneSpecificationLaneCount failed!"@en ;
                  sh:name "laneSpecificationLaneCount"@en ;
                  sh:order 53 ;
                  sh:path ex:LaneSpecificationLaneCount ]
                ,

                [
                sh:path ex:laneSpecificationLaneCountValue;
                sh:description "Number of lanes (Unit) (Refer to BSI PAS-1883 Section 5.2.3.4.d) ."@en ;
                sh:message "Validation of laneSpecificationLaneCountValue failed!"@en ;
                sh:name "laneSpecificationLaneCountValue"@en ;
                sh:order 54 ;
                sh:or (
                    [
                        # Option 1: Single decimal value
                        sh:datatype xsd:positiveInteger ;
                        sh:description "Number of lanes (Unit) (Refer to BSI PAS-1883 Section 5.2.3.4.d) "@en ;
                        sh:message "laneSpecificationLaneCountValue must be a single positiveInteger."@en ;
                        sh:name "laneSpecificationDimensionsValue"@en ;
                        sh:order 1 ;
                    ]
                    [
                        # Option 2: QuantitativeValue with min and max
                        sh:nodeKind sh:BlankNodeOrIRI ;
                        sh:class schema:QuantitativeValue ;
                        sh:node ex:QuantitativeValueShape ;
                        sh:description "QuantitativeValue representing a range for laneSpecificationLaneCountValue (Unit) ."@en ;
                        sh:message "laneSpecificationLaneCountValue must be a QuantitativeValue with minValue and maxValue."@en ;
                        sh:name "RangeValue"@en ;
                        sh:order 2 ;
                    ]
                ) ;
                ],

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for horizontalCurves"@en ;
                  sh:message "Validation of horizontalCurves failed!"@en ;
                  sh:name "horizontalCurves"@en ;
                  sh:order 55 ;
                  sh:path ex:HorizontalCurves ]
                ,


                  [ sh:datatype xsd:decimal ;
                  sh:description "Curve Radius (m) (Refer to BSI PAS-1883 Section 5.2.3.3) ."@en ;
                  sh:message "Validation of horizontalCurvesValue failed!"@en ;
                  sh:name "horizontalCurvesValue"@en ;
                  sh:order 56 ;
                  sh:path ex:horizontalCurvesValue ]
                  ,

                [ sh:datatype xsd:boolean ;
                  sh:description "Validation class for longitudinalDownSlope"@en ;
                  sh:message "Validation of longitudinalDownSlope failed!"@en ;
                  sh:name "longitudinalDownSlop"@en ;
                  sh:order 57 ;
                  sh:path ex:LongitudinalDownSlope ]
                ,


                  [ sh:datatype xsd:decimal ;
                  sh:description "Gradient (%) (Refer to BSI PAS-1883 Section 5.2.3.3.ii) ."@en ;
                  sh:message "Validation of longitudinalDownSlopeValue failed!"@en ;
                  sh:name "longitudinalDownSlopeValue"@en ;
                  sh:order 58 ;
                  sh:path ex:longitudinalDownSlopeValue ]

                ;

                # SPARQL constraint to enforce the conditional logic
                sh:sparql [
                a sh:SPARQLConstraint ;
                sh:message "If 'subjectVehicleSpeed' is not true, 'subjectVehicleSpeedValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:SubjectVehicleSpeed ?subjectVehicleSpeed . }
                        OPTIONAL { $this ex:subjectVehicleSpeedValue ?subjectVehicleSpeedValue . }

                        FILTER (
                            ( !BOUND(?subjectVehicleSpeed) || ?subjectVehicleSpeed != true ) &&
                            BOUND(?subjectVehicleSpeedValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'weatherRain' is not true, 'weatherRainValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:WeatherRain ?weatherRain . }
                        OPTIONAL { $this ex:weatherRainValue ?weatherRainValue . }

                        FILTER (
                            ( !BOUND(?weatherRain) || ?weatherRain != true ) &&
                            BOUND(?weatherRainValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'weatherSnow' is not true, 'weatherSnowValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:WeatherSnow ?weatherSnow . }
                        OPTIONAL { $this ex:weatherSnowValue ?weatherSnowValue . }

                        FILTER (
                            ( !BOUND(?weatherSnow) || ?weatherSnow != true ) &&
                            BOUND(?weatherSnowValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'weatherWind' is not true, 'weatherWindValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:WeatherWind ?weatherWind . }
                        OPTIONAL { $this ex:weatherWindValue ?weatherWindValue . }

                        FILTER (
                            ( !BOUND(?weatherWind) || ?weatherWind != true ) &&
                            BOUND(?weatherWindValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'illuminationCloudiness' is not true, 'illuminationCloudinessValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:IlluminationCloudiness ?illuminationCloudiness . }
                        OPTIONAL { $this ex:illuminationCloudinessValue ?illuminationCloudinessValue . }

                        FILTER (
                            ( !BOUND(?illuminationCloudiness) || ?illuminationCloudiness != true ) &&
                            BOUND(?illuminationCloudinessValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'daySunElevation' is not true, 'daySunElevationValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:DaySunElevation ?daySunElevation . }
                        OPTIONAL { $this ex:daySunElevationValue ?daySunElevationValue . }

                        FILTER (
                            ( !BOUND(?daySunElevation) || ?daySunElevation != true ) &&
                            BOUND(?daySunElevationValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'trafficAgentDensity' is not true, 'trafficAgentDensityValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:TrafficAgentDensity ?trafficAgentDensity . }
                        OPTIONAL { $this ex:trafficAgentDensityValue ?trafficAgentDensityValue . }

                        FILTER (
                            ( !BOUND(?trafficAgentDensity) || ?trafficAgentDensity != true ) &&
                            BOUND(?trafficAgentDensityValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'trafficFlowRat' is not true, 'trafficFlowRatValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:TrafficFlowRat ?trafficFlowRat . }
                        OPTIONAL { $this ex:trafficFlowRatValue ?trafficFlowRatValue . }

                        FILTER (
                            ( !BOUND(?trafficFlowRat) || ?trafficFlowRat != true ) &&
                            BOUND(?trafficFlowRatValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'trafficVolume' is not true, 'trafficVolumeValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:TrafficVolume ?trafficVolume . }
                        OPTIONAL { $this ex:trafficVolumeValue ?trafficVolumeValue . }

                        FILTER (
                            ( !BOUND(?trafficVolume) || ?trafficVolume != true ) &&
                            BOUND(?trafficVolumeValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'laneSpecificationDimensions' is not true, 'laneSpecificationDimensionsValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:LaneSpecificationDimensions ?laneSpecificationDimensions . }
                        OPTIONAL { $this ex:laneSpecificationDimensionsValue ?laneSpecificationDimensionsValue . }

                        FILTER (
                            ( !BOUND(?laneSpecificationDimensions) || ?laneSpecificationDimensions != true ) &&
                            BOUND(?laneSpecificationDimensionsValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'laneSpecificationLaneCount' is not true, 'laneSpecificationLaneCountValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:LaneSpecificationLaneCount ?laneSpecificationLaneCount . }
                        OPTIONAL { $this ex:laneSpecificationLaneCountValue ?laneSpecificationLaneCountValue . }

                        FILTER (
                            ( !BOUND(?laneSpecificationLaneCount) || ?laneSpecificationLaneCount != true ) &&
                            BOUND(?laneSpecificationLaneCountValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'horizontalCurves' is not true, 'horizontalCurvesValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:HorizontalCurves ?horizontalCurves . }
                        OPTIONAL { $this ex:horizontalCurvesValue ?horizontalCurvesValue . }

                        FILTER (
                            ( !BOUND(?horizontalCurves) || ?horizontalCurves != true ) &&
                            BOUND(?horizontalCurvesValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'longitudinalDownSlope' is not true, 'longitudinalDownSlopeValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:LongitudinalDownSlope ?longitudinalDownSlope . }
                        OPTIONAL { $this ex:longitudinalDownSlopeValue ?longitudinalDownSlopeValue . }

                        FILTER (
                            ( !BOUND(?longitudinalDownSlope) || ?longitudinalDownSlope != true ) &&
                            BOUND(?longitudinalDownSlopeValue)
                        )
                    }
                """ ;
                ]
                ,

                [
                a sh:SPARQLConstraint ;
                sh:message "If 'longitudinalUpSlope' is not true, 'longitudinalUpSlopeValue' must not be present."@en ;
                sh:select """
                    PREFIX ex: <https://openlabel.asam.net/V1-0-0/ontologies/>
                    SELECT $this
                    WHERE {
                        OPTIONAL { $this ex:LongitudinalUpSlope ?longitudinalUpSlope . }
                        OPTIONAL { $this ex:longitudinalUpSlopeValue ?longitudinalUpSlopeValue . }

                        FILTER (
                            ( !BOUND(?longitudinalUpSlope) || ?longitudinalUpSlope != true ) &&
                            BOUND(?longitudinalUpSlopeValue)
                        )
                    }
                """ ;
                ]

                .



    # Shape for QuantitativeValue to ensure minValue <= maxValue
    ex:QuantitativeValueShape a sh:NodeShape ;
        sh:targetClass schema:QuantitativeValue ;
        sh:property [
            sh:path schema:minValue ;
            sh:minCount 1 ;
        ] ;
        sh:property [
            sh:path schema:maxValue ;
            sh:minCount 1 ;
        ] ;
        sh:sparql [
            sh:prefixes (
                [ sh:prefix "schema"; sh:namespace "https://schema.org/" ]
            );
            sh:message "minValue must be less than or equal to maxValue." ;
            sh:select """
                SELECT $this
                WHERE {
                    $this schema:minValue ?min .
                    $this schema:maxValue ?max .
                    FILTER(?min > ?max)
                }
            """ ;
        ] .

