@prefix service: <https://github.com/GAIA-X4PLC-AAD/ontology-management-base/tree/main/service/> .
@prefix general: <https://github.com/GAIA-X4PLC-AAD/ontology-management-base/tree/main/general/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

service:ServiceShape a sh:NodeShape ;
    sh:property 
        [ sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:node general:GeneralShape ;
            sh:order 1 ;
            sh:path service:general ],
        [ sh:node service:RequiredFileShape ;
            sh:order 2 ;
            sh:path service:requiredFile ],
        [ sh:node service:RequiredInputShape ;
            sh:order 2 ;
            sh:path service:requiredInput ],
        [ sh:minCount 1 ;
            sh:node service:ResultingFileShape ;
            sh:order 3 ;
            sh:path service:resultingFile ] ;
    sh:targetClass service:Service .

service:RequiredFileShape a sh:NodeShape ;
    sh:property [ skos:example "link to ASAM OpenSCENARIO specification" ;
            sh:datatype xsd:string ;
            sh:description "Link to specification"@en ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:message "Validation of specification failed!"@en ;
            sh:name "specification"@en ;
            sh:order 1 ;
            sh:path service:specification ],
        [ skos:example ".xosc, .xodr" ;
            sh:datatype xsd:string ;
            sh:description "Human readable description"@en ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:message "Validation of description failed!"@en ;
            sh:name "description"@en ;
            sh:order 2 ;
            sh:path service:description ] ;
    sh:targetClass service:RequiredFile .

service:RequiredInputShape a sh:NodeShape ;
    sh:property [ sh:nodeKind sh:IRI ;
            sh:description "Link to Shape"@en ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:message "Validation of inputNode failed!"@en ;
            sh:name "node"@en ;
            sh:order 1 ;
            sh:path service:inputNode ];
    sh:targetClass service:RequiredInput .

service:ResultingFileShape a sh:NodeShape ;
    sh:property [ skos:example ".osi" ;
            sh:datatype xsd:string ;
            sh:description "Human readable description"@en ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:message "Validation of description failed!"@en ;
            sh:name "description"@en ;
            sh:order 1 ;
            sh:path service:description ],
        [ skos:example "link to ASM .osi spec" ;
            sh:datatype xsd:string ;
            sh:description "Link to specification"@en ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:message "Validation of specification failed!"@en ;
            sh:name "specification"@en ;
            sh:order 2 ;
            sh:path service:specification ] ;
    sh:targetClass service:ResultingFile .

service:ExampleInputShape a sh:NodeShape ;
    sh:property [ skos:example "example input" ;
            sh:datatype xsd:string ;
            sh:description "Example input"@en ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:message "Validation of example input failed!"@en ;
            sh:name "example"@en ;
            sh:order 1 ;
            sh:path service:example ];
    sh:targetClass service:ExampleInput .
